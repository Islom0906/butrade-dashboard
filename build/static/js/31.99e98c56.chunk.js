"use strict";(self.webpackChunkbutrade=self.webpackChunkbutrade||[]).push([[31],{13031:(e,n,t)=>{t.r(n),t.d(n,{default:()=>j});var o=t(65043),a=t(48193),l=t(64435),i=t(47419),r=t(11645),c=t(89421),s=t(5397),d=t(75337),u=t(73216),p=t(59888),m=t(82907),f=t(36213),v=t(14556),y=t(74954),A=t(28440),x=t(96066),C=t(67407),h=t(61966),g=t(70579);const b=e=>{let{data:n,deleteHandle:t}=e;const o=(0,v.wA)(),a=(0,u.Zp)(),i=[{title:"Image",dataIndex:"image",id:"image",render:e=>(0,g.jsx)(y.A,{width:50,src:e})},{title:"Action",id:"action",render:(e,n)=>(0,g.jsxs)(l.A,{size:20,children:[(0,g.jsx)(c.A,{onClick:()=>{return e=n.id,localStorage.setItem("editDataId",e),o({type:f.aT,payload:e}),void a("/banner/add");var e},type:"primary",icon:(0,g.jsx)(C.A,{}),children:"Edit"}),(0,g.jsx)(A.A,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{t("/about/banner",e)})(n.id),children:(0,g.jsx)(c.A,{type:"danger",icon:(0,g.jsx)(h.A,{}),children:"Delete"})})]})}];return(0,g.jsx)("div",{children:(0,g.jsx)(x.A,{columns:i,dataSource:n,rowKey:e=>e.id})})},j=()=>{const e=(0,u.Zp)(),n=(0,v.wA)(),{mutate:t,isSuccess:y,isLoading:A}=(0,m.useMutation)((e=>{let{url:n,id:t}=e;return p.A.deleteData(n,t)})),{data:x,isLoading:C,refetch:h}=(0,m.useQuery)("banner-get",(()=>p.A.getData("/about/banner/")),{onError:e=>{a.Ay.error(e)}});(0,o.useEffect)((()=>{y&&h()}),[y]);return(0,g.jsx)("div",{className:"site-space-compact-wrapper",children:(0,g.jsxs)(l.A,{direction:"vertical",style:{width:"100%"},children:[(0,g.jsx)(i.A,{gutter:20,children:(0,g.jsx)(r.A,{offset:16,span:8,children:(0,g.jsx)(c.A,{disabled:(null===x||void 0===x?void 0:x.length)>3,type:"primary",icon:(0,g.jsx)(d.A,{}),style:{width:"100%"},onClick:()=>{n({type:f.aT,payload:""}),e("/banner/add")},children:"Add"})})}),(0,g.jsx)(s.A,{size:"medium",spinning:C||A,children:(0,g.jsx)(b,{data:x,deleteHandle:(e,n)=>{t({url:e,id:n})}})})]})})}},28440:(e,n,t)=>{t.d(n,{A:()=>j});var o=t(58168),a=t(5544),l=t(51376),i=t(98139),r=t.n(i),c=t(28678),s=t(25001),d=t(65043),u=t(35296),p=t(36282),m=t(12701),f=t(89421),v=t(83085),y=t(38046),A=t(38097),x=t(8376),C=t(98986),h=function(e){var n=e.prefixCls,t=e.okButtonProps,a=e.cancelButtonProps,l=e.title,i=e.cancelText,r=e.okText,c=e.okType,s=e.icon,p=e.showCancel,m=void 0===p||p,h=e.close,g=e.onConfirm,b=e.onCancel,j=d.useContext(u.QO).getPrefixCls;return d.createElement(A.A,{componentName:"Popconfirm",defaultLocale:x.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(n,"-inner-content")},d.createElement("div",{className:"".concat(n,"-message")},s&&d.createElement("span",{className:"".concat(n,"-message-icon")},s),d.createElement("div",{className:"".concat(n,"-message-title")},(0,C.b)(l))),d.createElement("div",{className:"".concat(n,"-buttons")},m&&d.createElement(f.A,(0,o.A)({onClick:b,size:"small"},a),null!==i&&void 0!==i?i:e.cancelText),d.createElement(y.A,{buttonProps:(0,o.A)((0,o.A)({size:"small"},(0,v.D)(c)),t),actionFn:g,close:h,prefixCls:j("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==r&&void 0!==r?r:e.okText)))}))},g=void 0,b=function(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)n.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(t[o[a]]=e[o[a]])}return t};const j=d.forwardRef((function(e,n){var t=e.prefixCls,i=e.placement,f=void 0===i?"top":i,v=e.trigger,y=void 0===v?"click":v,A=e.okType,x=void 0===A?"primary":A,C=e.icon,j=void 0===C?d.createElement(l.A,null):C,k=e.children,E=e.overlayClassName,O=e.onOpenChange,w=e.onVisibleChange,N=b(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),P=d.useContext(u.QO).getPrefixCls,T=(0,c.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),D=(0,a.A)(T,2),S=D[0],V=D[1],I=function(e,n){V(e,!0),null===w||void 0===w||w(e,n),null===O||void 0===O||O(e,n)},z=P("popover",t),K=P("popconfirm",t),L=r()(K,E);return d.createElement(p.A,(0,o.A)({},N,{trigger:y,prefixCls:z,placement:f,onOpenChange:function(n){var t=e.disabled;void 0!==t&&t||I(n)},open:S,ref:n,overlayClassName:L,_overlay:d.createElement(h,(0,o.A)({okType:x,icon:j},e,{prefixCls:z,close:function(e){I(!1,e)},onConfirm:function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(g,n)},onCancel:function(n){var t;I(!1,n),null===(t=e.onCancel)||void 0===t||t.call(g,n)}}))}),(0,m.Ob)(k,{onKeyDown:function(e){var n,t;d.isValidElement(k)&&(null===(t=null===k||void 0===k?void 0:(n=k.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===s.A.ESC&&S&&I(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=31.99e98c56.chunk.js.map