"use strict";(self.webpackChunkbutrade=self.webpackChunkbutrade||[]).push([[659],{84268:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(50289),r=a(33307),i=a(70579);const l=e=>{let{label:t,name:a,required:l,required_text:u,warning:n}=e;return(0,i.jsx)(s.A.Item,{label:n?(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{children:t}),(0,i.jsx)("br",{}),(0,i.jsx)("p",{children:n})]}):(0,i.jsx)("div",{children:t}),name:a,rules:[{required:l,message:u}],children:(0,i.jsx)(r.A,{})})}},17100:(e,t,a)=>{a.d(t,{A:()=>l});a(65043);var s=a(50289),r=a(42471),i=a(70579);const l=e=>{let{label:t,name:a,required:l,required_text:u}=e;return(0,i.jsx)(s.A.Item,{label:t,name:a,rules:[{required:l,message:u}],children:(0,i.jsx)(r.A,{rows:4})})}},29659:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var s=a(65043),r=a(50289),i=a(48193),l=a(47419),u=a(11645),n=a(89421),d=a(82907),o=a(59888),c=a(9772),_=a(73216),m=a(14556),p=a(36213),b=a(84268),h=a(17100),x=a(70579);const A={title_ru:"",title_uz:"",sub_title_ru:"",sub_title_uz:""},g=()=>{const[e]=r.A.useForm(),t=(0,_.Zp)(),{editId:a}=(0,m.d4)((e=>e.editData)),g=(0,m.wA)(),{mutate:f,data:j,isLoading:v,isSuccess:y}=(0,d.useMutation)((e=>{let{url:t,data:a}=e;return o.A.postData(t,a)}),{onSuccess:()=>{i.Ay.success("Success")},onError:e=>{for(let t in e.response.data)i.Ay.error("".concat(t,": ").concat(e.response.data[t][0]))}}),{isLoading:q,data:S,refetch:z,isSuccess:F}=(0,d.useQuery)(["edit-advantage-title",a],(()=>o.A.getDataByID("/about/advantage-title",a)),{enabled:!1}),{mutate:w,isLoading:E,data:I,isSuccess:V}=(0,d.useMutation)((e=>{let{url:t,data:a,id:s}=e;return o.A.editData(t,a,s)}),{onSuccess:()=>{i.Ay.success("Success")},onError:e=>{for(let t in e.response.data)i.Ay.error("".concat(t,": ").concat(e.response.data[t][0]))}});(0,s.useEffect)((()=>{V&&g({type:p.aT,payload:""}),(y||V)&&t("/advantage-title")}),[j,I]),(0,s.useEffect)((()=>{""!==a&&z()}),[a]),(0,s.useEffect)((()=>{""===a&&e.setFieldsValue(A)}),[]),(0,s.useEffect)((()=>{if(F){const t={title_ru:S.title_ru,title_uz:S.title_uz,sub_title_ru:S.sub_title_ru,sub_title_uz:S.sub_title_uz};e.setFieldsValue(t)}}),[S]);return(0,s.useEffect)((()=>{const t=JSON.parse(localStorage.getItem("myFormValues"));t&&(t.images=[],e.setFieldsValue(t));const a=()=>{localStorage.setItem("myFormValues",JSON.stringify(e.getFieldsValue()))};return window.addEventListener("beforeunload",a),()=>{localStorage.removeItem("editDataId"),localStorage.removeItem("myFormValues"),window.removeEventListener("beforeunload",a)}}),[]),(0,x.jsx)("div",{children:v||q||E?(0,x.jsx)(c.HE,{}):(0,x.jsxs)(r.A,{form:e,name:"basic",labelCol:{span:24},wrapperCol:{span:24},style:{maxWidth:"100%"},initialValues:A,onFinish:e=>{const t=new FormData;t.append("title_ru",e.title_ru),t.append("title_uz",e.title_uz),t.append("sub_title_ru",e.sub_title_ru),t.append("sub_title_uz",e.sub_title_uz),S?w({url:"/about/advantage-title",data:t,id:a}):f({url:"/about/advantage-title/",data:t})},onFinishFailed:e=>{console.log("Failed:",e)},autoComplete:"off",children:[(0,x.jsxs)(l.A,{gutter:20,children:[(0,x.jsx)(u.A,{span:12,children:(0,x.jsx)(b.A,{required:!0,required_text:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"Title Ru",name:"title_ru"})}),(0,x.jsx)(u.A,{span:12,children:(0,x.jsx)(b.A,{required:!0,required_text:"Sarlavha kiritish kerak",label:"Title Uz",name:"title_uz"})})]}),(0,x.jsxs)(l.A,{gutter:20,children:[(0,x.jsx)(u.A,{span:24,children:(0,x.jsx)(h.A,{required:!0,required_text:"\u0422\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",label:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a Ru",name:"sub_title_ru"})}),(0,x.jsx)(u.A,{span:24,children:(0,x.jsx)(h.A,{required:!0,required_text:"Qo'shimcha sarlavha talab qilinadi",label:"Qo'shimcha Sarlavha Uz",name:"sub_title_uz"})})]}),(0,x.jsx)(n.A,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:"20px"},children:F?"Edit":"Add"})]})})}},11645:(e,t,a)=>{a.d(t,{A:()=>s});const s=a(30227).A}}]);
//# sourceMappingURL=659.57fe5fc1.chunk.js.map