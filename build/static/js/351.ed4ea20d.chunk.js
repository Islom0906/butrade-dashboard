"use strict";(self.webpackChunkbutrade=self.webpackChunkbutrade||[]).push([[351],{60351:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var l=t(65043),o=t(48193),a=t(64435),r=t(47419),i=t(11645),c=t(33307),s=t(89421),d=t(5397),u=t(75337),p=t(73216),f=t(59888),v=t(82907),m=t(36213),y=t(14556),x=t(8387),C=t(74954),A=t(28440),g=t(96066),h=t(67407),b=t(61966),O=t(70579);const j=e=>{let{data:n,deleteHandle:t}=e;const l=(0,y.wA)(),o=(0,p.Zp)(),r=[{title:"Title Ru",dataIndex:"title_ru",id:"title_ru",render:e=>(0,O.jsx)("p",{children:e})},{title:"Category",dataIndex:"category",id:"category",render:e=>(0,O.jsx)("p",{children:null===e||void 0===e?void 0:e.title_ru})},{title:"Is Available",dataIndex:"is_available",id:"is_available",render:e=>e?(0,O.jsx)(x.A,{color:"#108ee9",children:"\u0412 \u043f\u0440\u043e\u0434\u0430\u0436\u0435"}):(0,O.jsx)(x.A,{color:"#f50",children:"\u041d\u0435\u0442 \u0432 \u043f\u0440\u043e\u0434\u0430\u0436\u0435"})},{title:"Card Image",dataIndex:"index_image",id:"index_image",render:e=>(0,O.jsx)(C.A,{width:50,src:e})},{title:"Action",id:"action",render:(e,n)=>(0,O.jsxs)(a.A,{size:20,children:[(0,O.jsx)(s.A,{onClick:()=>{return e=null===n||void 0===n?void 0:n.slug,localStorage.setItem("editDataId",e),l({type:m.aT,payload:e}),void o("/product/add");var e},type:"primary",icon:(0,O.jsx)(h.A,{}),children:"Edit"}),(0,O.jsx)(A.A,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{t("/products",e)})(null===n||void 0===n?void 0:n.slug),children:(0,O.jsx)(s.A,{type:"danger",icon:(0,O.jsx)(b.A,{}),children:"Delete"})})]})}];return(0,O.jsx)("div",{children:(0,O.jsx)(g.A,{columns:r,dataSource:n,rowKey:e=>e.id})})},k=()=>{const e=(0,p.Zp)(),n=(0,y.wA)(),{mutate:t,isSuccess:x,isLoading:C}=(0,v.useMutation)((e=>{let{url:n,id:t}=e;return f.A.deleteData(n,t)})),{data:A,isLoading:g,refetch:h}=(0,v.useQuery)("product-get",(()=>f.A.getData("/products/")),{onError:e=>{o.Ay.error(e)}}),[b,k]=(0,l.useState)([]),[E,w]=(0,l.useState)(!1);(0,l.useEffect)((()=>{x&&h()}),[x]);return(0,O.jsx)("div",{className:"site-space-compact-wrapper",children:(0,O.jsxs)(a.A,{direction:"vertical",style:{width:"100%"},children:[(0,O.jsxs)(r.A,{gutter:20,children:[(0,O.jsx)(i.A,{span:16,children:(0,O.jsx)(c.A,{onChange:e=>(e=>{w(""!==e);const n=null===A||void 0===A?void 0:A.filter((n=>n.title_ru.toLowerCase().includes(e.toLowerCase())));k(n)})(e.target.value)})}),(0,O.jsx)(i.A,{span:8,children:(0,O.jsx)(s.A,{type:"primary",icon:(0,O.jsx)(u.A,{}),style:{width:"100%"},onClick:()=>{n({type:m.aT,payload:""}),e("/product/add")},children:"Add"})})]}),(0,O.jsx)(d.A,{size:"medium",spinning:g||C,children:(0,O.jsx)(j,{data:E?b:A,deleteHandle:(e,n)=>{t({url:e,id:n})}})})]})})}},28440:(e,n,t)=>{t.d(n,{A:()=>O});var l=t(58168),o=t(5544),a=t(51376),r=t(98139),i=t.n(r),c=t(28678),s=t(25001),d=t(65043),u=t(35296),p=t(36282),f=t(12701),v=t(89421),m=t(83085),y=t(38046),x=t(38097),C=t(8376),A=t(98986),g=function(e){var n=e.prefixCls,t=e.okButtonProps,o=e.cancelButtonProps,a=e.title,r=e.cancelText,i=e.okText,c=e.okType,s=e.icon,p=e.showCancel,f=void 0===p||p,g=e.close,h=e.onConfirm,b=e.onCancel,O=d.useContext(u.QO).getPrefixCls;return d.createElement(x.A,{componentName:"Popconfirm",defaultLocale:C.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(n,"-inner-content")},d.createElement("div",{className:"".concat(n,"-message")},s&&d.createElement("span",{className:"".concat(n,"-message-icon")},s),d.createElement("div",{className:"".concat(n,"-message-title")},(0,A.b)(a))),d.createElement("div",{className:"".concat(n,"-buttons")},f&&d.createElement(v.A,(0,l.A)({onClick:b,size:"small"},o),null!==r&&void 0!==r?r:e.cancelText),d.createElement(y.A,{buttonProps:(0,l.A)((0,l.A)({size:"small"},(0,m.D)(c)),t),actionFn:h,close:g,prefixCls:O("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==i&&void 0!==i?i:e.okText)))}))},h=void 0,b=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}return t};const O=d.forwardRef((function(e,n){var t=e.prefixCls,r=e.placement,v=void 0===r?"top":r,m=e.trigger,y=void 0===m?"click":m,x=e.okType,C=void 0===x?"primary":x,A=e.icon,O=void 0===A?d.createElement(a.A,null):A,j=e.children,k=e.overlayClassName,E=e.onOpenChange,w=e.onVisibleChange,P=b(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),N=d.useContext(u.QO).getPrefixCls,I=(0,c.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),S=(0,o.A)(I,2),T=S[0],_=S[1],D=function(e,n){_(e,!0),null===w||void 0===w||w(e,n),null===E||void 0===E||E(e,n)},R=N("popover",t),V=N("popconfirm",t),L=i()(V,k);return d.createElement(p.A,(0,l.A)({},P,{trigger:y,prefixCls:R,placement:v,onOpenChange:function(n){var t=e.disabled;void 0!==t&&t||D(n)},open:T,ref:n,overlayClassName:L,_overlay:d.createElement(g,(0,l.A)({okType:C,icon:O},e,{prefixCls:R,close:function(e){D(!1,e)},onConfirm:function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(h,n)},onCancel:function(n){var t;D(!1,n),null===(t=e.onCancel)||void 0===t||t.call(h,n)}}))}),(0,f.Ob)(j,{onKeyDown:function(e){var n,t;d.isValidElement(j)&&(null===(t=null===j||void 0===j?void 0:(n=j.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===s.A.ESC&&T&&D(!1,e)}(e)}}))}))},8387:(e,n,t)=>{t.d(n,{A:()=>h});var l=t(64467),o=t(58168),a=t(5544),r=t(53727),i=t(98139),c=t.n(i),s=t(18574),d=t(65043),u=t(35296),p=t(11128),f=t(16021),v=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}return t};const m=function(e){var n=e.prefixCls,t=e.className,a=e.checked,r=e.onChange,i=e.onClick,s=v(e,["prefixCls","className","checked","onChange","onClick"]),p=(0,d.useContext(u.QO).getPrefixCls)("tag",n),f=c()(p,(0,l.A)((0,l.A)({},"".concat(p,"-checkable"),!0),"".concat(p,"-checkable-checked"),a),t);return d.createElement("span",(0,o.A)({},s,{className:f,onClick:function(e){null===r||void 0===r||r(!a),null===i||void 0===i||i(e)}}))};var y=function(e,n){var t={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(t[l]=e[l]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(t[l[o]]=e[l[o]])}return t},x=new RegExp("^(".concat(p.w.join("|"),")(-inverse)?$")),C=new RegExp("^(".concat(p.C.join("|"),")$")),A=function(e,n){var t=e.prefixCls,i=e.className,p=e.style,v=e.children,m=e.icon,A=e.color,g=e.onClose,h=e.closeIcon,b=e.closable,O=void 0!==b&&b,j=y(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),k=d.useContext(u.QO),E=k.getPrefixCls,w=k.direction,P=d.useState(!0),N=(0,a.A)(P,2),I=N[0],S=N[1];d.useEffect((function(){"visible"in j&&S(j.visible)}),[j.visible]);var T=function(){return!!A&&(x.test(A)||C.test(A))},_=(0,o.A)({backgroundColor:A&&!T()?A:void 0},p),D=T(),R=E("tag",t),V=c()(R,(0,l.A)((0,l.A)((0,l.A)((0,l.A)({},"".concat(R,"-").concat(A),D),"".concat(R,"-has-color"),A&&!D),"".concat(R,"-hidden"),!I),"".concat(R,"-rtl"),"rtl"===w),i),L=function(e){e.stopPropagation(),null===g||void 0===g||g(e),e.defaultPrevented||"visible"in j||S(!1)},Q="onClick"in j||v&&"a"===v.type,z=(0,s.A)(j,["visible"]),K=m||null,B=K?d.createElement(d.Fragment,null,K,d.createElement("span",null,v)):v,F=d.createElement("span",(0,o.A)({},z,{ref:n,className:V,style:_}),B,O?h?d.createElement("span",{className:"".concat(R,"-close-icon"),onClick:L},h):d.createElement(r.A,{className:"".concat(R,"-close-icon"),onClick:L}):null);return Q?d.createElement(f.A,null,F):F},g=d.forwardRef(A);g.CheckableTag=m;const h=g}}]);
//# sourceMappingURL=351.ed4ea20d.chunk.js.map