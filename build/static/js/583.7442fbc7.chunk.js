"use strict";(self.webpackChunkbutrade=self.webpackChunkbutrade||[]).push([[583],{68583:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var a=n(65043),o=n(48193),i=n(64435),l=n(47419),r=n(11645),c=n(33307),s=n(89421),d=n(5397),u=n(75337),p=n(73216),m=n(59888),v=n(82907),f=n(36213),y=n(14556),A=n(74954),x=n(28440),g=n(96066),C=n(67407),h=n(61966),j=n(70579);const b=e=>{let{data:t,deleteHandle:n}=e;const a=(0,y.wA)(),o=(0,p.Zp)(),l=[{title:"Title Ru",dataIndex:"title_ru",id:"title_ru",render:e=>(0,j.jsx)("p",{children:e})},{title:"Image",dataIndex:"image",id:"image",render:e=>(0,j.jsx)(A.A,{width:50,src:e})},{title:"Action",id:"action",render:(e,t)=>(0,j.jsxs)(i.A,{size:20,children:[(0,j.jsx)(s.A,{onClick:()=>{return e=t.id,localStorage.setItem("editDataId",e),a({type:f.aT,payload:e}),void o("/category/add");var e},type:"primary",icon:(0,j.jsx)(C.A,{}),children:"Edit"}),(0,j.jsx)(x.A,{title:"Are you sure to delete this task?",description:"Delete the task ",onConfirm:()=>(async e=>{n("/categories",e)})(t.id),children:(0,j.jsx)(s.A,{type:"danger",icon:(0,j.jsx)(h.A,{}),children:"Delete"})})]})}];return(0,j.jsx)("div",{children:(0,j.jsx)(g.A,{columns:l,dataSource:t,rowKey:e=>e.id})})},k=()=>{const e=(0,p.Zp)(),t=(0,y.wA)(),{mutate:n,isSuccess:A,isLoading:x}=(0,v.useMutation)((e=>{let{url:t,id:n}=e;return m.A.deleteData(t,n)})),{data:g,isLoading:C,refetch:h}=(0,v.useQuery)("advantage-get",(()=>m.A.getData("/categories/")),{onError:e=>{o.Ay.error(e)}}),[k,w]=(0,a.useState)([]),[E,O]=(0,a.useState)(!1);(0,a.useEffect)((()=>{A&&h()}),[A]);return(0,j.jsx)("div",{className:"site-space-compact-wrapper",children:(0,j.jsxs)(i.A,{direction:"vertical",style:{width:"100%"},children:[(0,j.jsxs)(l.A,{gutter:20,children:[(0,j.jsx)(r.A,{span:16,children:(0,j.jsx)(c.A,{onChange:e=>(e=>{O(""!==e);const t=null===g||void 0===g?void 0:g.filter((t=>t.title_ru.toLowerCase().includes(e.toLowerCase())));w(t)})(e.target.value)})}),(0,j.jsx)(r.A,{span:8,children:(0,j.jsx)(s.A,{type:"primary",icon:(0,j.jsx)(u.A,{}),style:{width:"100%"},onClick:()=>{t({type:f.aT,payload:""}),e("/category/add")},children:"Add"})})]}),(0,j.jsx)(d.A,{size:"medium",spinning:C||x,children:(0,j.jsx)(b,{data:E?k:g,deleteHandle:(e,t)=>{n({url:e,id:t})}})})]})})}},28440:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(58168),o=n(5544),i=n(51376),l=n(98139),r=n.n(l),c=n(28678),s=n(25001),d=n(65043),u=n(35296),p=n(36282),m=n(12701),v=n(89421),f=n(83085),y=n(38046),A=n(38097),x=n(8376),g=n(98986),C=function(e){var t=e.prefixCls,n=e.okButtonProps,o=e.cancelButtonProps,i=e.title,l=e.cancelText,r=e.okText,c=e.okType,s=e.icon,p=e.showCancel,m=void 0===p||p,C=e.close,h=e.onConfirm,j=e.onCancel,b=d.useContext(u.QO).getPrefixCls;return d.createElement(A.A,{componentName:"Popconfirm",defaultLocale:x.A.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(t,"-inner-content")},d.createElement("div",{className:"".concat(t,"-message")},s&&d.createElement("span",{className:"".concat(t,"-message-icon")},s),d.createElement("div",{className:"".concat(t,"-message-title")},(0,g.b)(i))),d.createElement("div",{className:"".concat(t,"-buttons")},m&&d.createElement(v.A,(0,a.A)({onClick:j,size:"small"},o),null!==l&&void 0!==l?l:e.cancelText),d.createElement(y.A,{buttonProps:(0,a.A)((0,a.A)({size:"small"},(0,f.D)(c)),n),actionFn:h,close:C,prefixCls:b("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==r&&void 0!==r?r:e.okText)))}))},h=void 0,j=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(n[a[o]]=e[a[o]])}return n};const b=d.forwardRef((function(e,t){var n=e.prefixCls,l=e.placement,v=void 0===l?"top":l,f=e.trigger,y=void 0===f?"click":f,A=e.okType,x=void 0===A?"primary":A,g=e.icon,b=void 0===g?d.createElement(i.A,null):g,k=e.children,w=e.overlayClassName,E=e.onOpenChange,O=e.onVisibleChange,N=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange"]),T=d.useContext(u.QO).getPrefixCls,P=(0,c.A)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),D=(0,o.A)(P,2),S=D[0],I=D[1],V=function(e,t){I(e,!0),null===O||void 0===O||O(e,t),null===E||void 0===E||E(e,t)},L=T("popover",n),z=T("popconfirm",n),_=r()(z,w);return d.createElement(p.A,(0,a.A)({},N,{trigger:y,prefixCls:L,placement:v,onOpenChange:function(t){var n=e.disabled;void 0!==n&&n||V(t)},open:S,ref:t,overlayClassName:_,_overlay:d.createElement(C,(0,a.A)({okType:x,icon:b},e,{prefixCls:L,close:function(e){V(!1,e)},onConfirm:function(t){var n;return null===(n=e.onConfirm)||void 0===n?void 0:n.call(h,t)},onCancel:function(t){var n;V(!1,t),null===(n=e.onCancel)||void 0===n||n.call(h,t)}}))}),(0,m.Ob)(k,{onKeyDown:function(e){var t,n;d.isValidElement(k)&&(null===(n=null===k||void 0===k?void 0:(t=k.props).onKeyDown)||void 0===n||n.call(t,e)),function(e){e.keyCode===s.A.ESC&&S&&V(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=583.7442fbc7.chunk.js.map